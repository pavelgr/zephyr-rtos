# Copyright (c) 2021 Nordic Semiconductor
# Copyright (c) 2024 pck
# SPDX-License-Identifier: Apache-2.0

# Common fields for MPU9150

include: sensor-device.yaml

properties:
  fs-sel:
    type: int
    description: |
      Selects the full scale range of the gyroscope outputs.
    default: 500
    enum:
      - 250
      - 500
      - 1000
      - 2000

  afs-sel:
    type: int
    description: |
      Selects the full scale range of the accelerometer outputs.
    default: 4
    enum:
      - 2
      - 4
      - 8
      - 16

  dlpf-cfg:
    type: int
    description: |
      Digital Low Pass Filter (DLPF) setting for both the gyroscopes and accelerometers.
    default: 188
    enum:
      - 256
      - 188
      - 98
      - 42
      - 20
      - 10
      - 5

  smplrt-div:
    type: int
    description: |
      The sensor register output, FIFO output and DMP sampling are all based on the Sample Rate.
      The Sample Rate is generated by dividing the gyroscope output rate by SMPLRT_DIV (8-bit unsigned value):
      
        Sample Rate = Gyroscope Output Rate / (1 + SMPLRT_DIV)
        
      where Gyroscope Output Rate = 8kHz when the DLPF is disabled (DLPF_CFG = 0 or 7), and 1kHz
      when the DLPF is enabled.
      
      The accelerometer output rate is 1kHz. This means that for a Sample Rate greater than 1kHz,
      the same accelerometer sample may be output to the FIFO, DMP, and sensor registers more than
      once.
    default: 0

  i2c_mst_dly:
    type: int
    description: |
      Configures the reduced access rate of I2C slaves relative to the Sample Rate. When
      a slaveâ€™s access rate is decreased relative to the Sample Rate, the slave is accessed every
        
        1 / (1 + I2C_MST_DLY) samples.
    default: 9

  irq-gpios:
    type: phandle-array
    description: |
      The INT signal default configuration is active-high.  The
      property value should ensure the flags properly describe the
      signal that is presented to the driver.
      This property is required when the trigger mode is used.
